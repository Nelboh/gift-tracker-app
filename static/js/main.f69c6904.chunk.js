(this["webpackJsonpgift-tracker-app"]=this["webpackJsonpgift-tracker-app"]||[]).push([[0],{33:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(1),c=n.n(a),d=n(11),s=n.n(d),r=(n(33),n(6)),u=n(7),h=n(9),l=n(8),o=n(5),b=n(2),j=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).state={name:i.props.name,editingName:!1,editingBudget:!1,budget:i.props.budget,id:i.props.id},i.handleName=i.handleName.bind(Object(b.a)(i)),i.handleBudget=i.handleBudget.bind(Object(b.a)(i)),i.handleEditingName=i.handleEditingName.bind(Object(b.a)(i)),i.handleEditingBudget=i.handleEditingBudget.bind(Object(b.a)(i)),i}return Object(u.a)(n,[{key:"handleName",value:function(e){this.setState({name:e.currentTarget.value})}},{key:"handleBudget",value:function(e){this.setState({budget:e.currentTarget.value})}},{key:"handleEditingName",value:function(){this.state.editingName&&this.props.editFriend({id:this.props.id,name:this.state.name,budget:this.state.budget}),this.setState({editingName:!this.state.editingName})}},{key:"handleEditingBudget",value:function(){this.state.editingBudget&&this.props.editFriend({id:this.props.id,name:this.state.name,budget:this.state.budget}),this.setState({editingBudget:!this.state.editingBudget})}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.budget;return Object(i.jsxs)(i.Fragment,{children:[this.state.editingName?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("input",{onChange:this.handleName,className:"card friendCard",placeholder:t}),Object(i.jsx)("button",{id:"pencil",onClick:this.handleEditingName})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h2",{className:"card friendCard",children:t}),Object(i.jsx)("button",{id:"pencil",onClick:this.handleEditingName})]}),this.state.editingBudget?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("input",{type:"number",onChange:this.handleBudget,className:"card budgetCard",value:"".concat(n)}),Object(i.jsx)("button",{id:"pencil",onClick:this.handleEditingBudget})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("h2",{className:"card budgetCard",children:["\xa3",n]}),Object(i.jsx)("button",{id:"pencil",onClick:this.handleEditingBudget})]})]})}}]),n}(a.Component),g=function(e){return{type:"ADD_GIFT",payload:{id:e.id,item_name:e.item_name,price:e.price,bought:e.bought,total:e.total,friend_id:e.friend_id}}},m=n(26),p=n.n(m).a.create({baseURL:" http://appy-wrapping.developme.space/api/",headers:{Accept:"application/json",Authorization:""}}),f=function(){return function(e){p.get("friends/1/gifts").then((function(t){t.data.data.forEach((function(t){e(g({id:t.id,item_name:t.item_name,price:t.price,bought:t.bought,total:0,friend_id:1}))}))}))}},O=Object(o.b)((function(e){return{id:e.friends[0].id,name:e.friends[0].name,budget:e.friends[0].budget}}),(function(e){return{editFriend:function(t){var n=t.id,i=t.name,a=t.budget;e(function(e){var t=e.name,n=e.budget,i=e.id;return function(e){p.patch("friends/".concat(i),{name:t,budget:n}).then((function(t){var n,i=t.data;e({type:"EDIT_FRIEND",payload:{id:(n={name:i.name,budget:i.budget,id:i.id}).id,name:n.name,budget:n.budget}})}))}}({id:n,name:i,budget:a}))}}}))(j),x=function(e){var t=e.handleChange,n=e.value,a=e.type,c=e.bought,d=e.placeholder;return"text"===a?Object(i.jsx)("td",{className:"tableInputs",children:Object(i.jsx)("input",{className:"tableTextInput",type:"text",value:n,onChange:t,placeholder:d})}):"number"===a?Object(i.jsx)("td",{className:"tableInputs",children:Object(i.jsx)("input",{className:"tableTextInput",type:"number",value:n,onChange:t,placeholder:d})}):Object(i.jsx)("td",{className:"tableInputs",children:Object(i.jsx)("div",{className:"buttonCentre",children:Object(i.jsx)("button",{className:c?"button tickButton":"button crossButton",onClick:t,placeholder:d})})})},N=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).state={item_name:"",price:""},i.handleAdd=i.handleAdd.bind(Object(b.a)(i)),i.handleGiftName=i.handleGiftName.bind(Object(b.a)(i)),i.handlePrice=i.handlePrice.bind(Object(b.a)(i)),i}return Object(u.a)(n,[{key:"handleGiftName",value:function(e){this.setState({item_name:e.currentTarget.value})}},{key:"handlePrice",value:function(e){this.setState({price:e.currentTarget.value})}},{key:"handleAdd",value:function(){this.props.addGift({item_name:this.state.item_name,price:this.state.price}),this.setState({item_name:"",price:0})}},{key:"render",value:function(){var e=this.state,t=e.item_name,n=e.price;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{}),Object(i.jsx)("td",{children:Object(i.jsx)("button",{onClick:this.handleAdd,class:"tableButton addButton",disabled:!t})}),Object(i.jsx)(x,{label:"Gift Name",value:t,placeholder:"Your gift here",checkbox:!1,handleChange:this.handleGiftName,type:"text"}),Object(i.jsx)(x,{label:"Price",value:n,placeholder:"\xa30.00",checkbox:!1,handleChange:this.handlePrice,type:"number"}),Object(i.jsx)(x,{handleChange:this.handlePrice})]})})}}]),n}(a.Component),v=Object(o.b)(null,(function(e){return{addGift:function(t){e(function(e){var t=e.item_name,n=e.price;return function(e){p.post("friends/1/gifts",{item_name:t,price:n}).then((function(t){var n=t.data;e(g({id:n.id,item_name:n.item_name,price:n.price,bought:!1,total:0,friend_id:n.friend_id}))}))}}(t))}}}))(N),_=function(e){var t=e.priceSum;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("h2",{className:"footer",children:["\xa3",t.toFixed(2)]})})},y=Object(o.b)((function(e){return{priceSum:e.gifts.map((function(e){return e.price})).reduce((function(e,t){return+e+ +t}),0)}}))(_),k=function(e){var t=e.item_name,n=e.price,a=e.bought,c=(e.editing,e.handleClick);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("td",{className:"tableInputs",children:t}),Object(i.jsx)("td",{className:"tableInputs",children:"\xa3".concat(n)}),Object(i.jsx)("td",{className:"tableInputs",children:Object(i.jsx)("div",{className:"buttonCentre",children:Object(i.jsx)("button",{onClick:c,className:a?"button tickButton":"button crossButton"})})})]})},B=function(e){var t=e.item_name,n=e.price,a=e.bought,c=e.handleGiftName,d=e.handlePrice,s=e.handleBought;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x,{label:"Gift Name",value:t,type:"text",handleChange:c}),Object(i.jsx)(x,{label:"Price",value:n,type:"number",handleChange:d}),Object(i.jsx)(x,{label:"Bought",type:"checkbox",checkbox:!0,handleChange:s,bought:a})]})},C=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).state={item_name:i.props.gift.item_name,price:i.props.gift.price,bought:i.props.gift.bought,editing:!1},i.handleGiftName=i.handleGiftName.bind(Object(b.a)(i)),i.handlePrice=i.handlePrice.bind(Object(b.a)(i)),i.handleBought=i.handleBought.bind(Object(b.a)(i)),i.handleEditing=i.handleEditing.bind(Object(b.a)(i)),i.handleDelete=i.handleDelete.bind(Object(b.a)(i)),i}return Object(u.a)(n,[{key:"handleGiftName",value:function(e){this.setState({item_name:e.currentTarget.value})}},{key:"handlePrice",value:function(e){this.setState({price:e.currentTarget.value})}},{key:"handleBought",value:function(){this.setState({bought:!this.state.bought}),this.props.editGift({id:this.props.gift.id,item_name:this.state.item_name,price:this.state.price,bought:!this.state.bought})}},{key:"handleEditing",value:function(){this.state.editing&&this.props.editGift({id:this.props.gift.id,item_name:this.state.item_name,price:this.state.price,bought:this.state.bought}),this.setState({editing:!this.state.editing})}},{key:"handleDelete",value:function(){this.props.deleteGift(this.props.gift.id)}},{key:"render",value:function(){var e=this.state,t=e.item_name,n=e.price,a=e.bought;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("tr",{className:"tableRow",children:[" ",Object(i.jsx)("td",{className:"tdNarrow",children:Object(i.jsx)("button",{className:"tableButtons deleteButton",onClick:this.handleDelete})}),Object(i.jsx)("td",{className:"tdNarrow",children:Object(i.jsx)("button",{onClick:this.handleEditing,className:this.state.editing?"button saveButton":"tableButtons editButton"})}),this.state.editing?Object(i.jsx)(B,{item_name:t,price:n,bought:a,handleGiftName:this.handleGiftName,handlePrice:this.handlePrice,handleBought:this.handleBought}):Object(i.jsx)(k,{item_name:t,price:n,bought:a,handleClick:this.handleBought})]})})}}]),n}(a.Component),E=Object(o.b)(null,(function(e){return{deleteGift:function(t){e(function(e){return function(t){p.delete("gifts/".concat(e)).then(t(function(e){return{type:"REMOVE_GIFT",payload:e}}(e)))}}(t))},editGift:function(t){e(function(e){var t=e.item_name,n=e.price,i=e.bought,a=e.id;return function(e){p.patch("gifts/".concat(a),{item_name:t,price:n,bought:i}).then((function(t){var n,i=t.data;e({type:"EDIT_GIFT",payload:{id:(n={item_name:i.item_name,price:i.price,bought:i.bought,id:i.id}).id,item_name:n.item_name,price:n.price,bought:n.bought}})}))}}(t))},getGifts:function(){e(f())}}}))(C),F=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getGifts(),this.props.getFriends()}},{key:"render",value:function(){return Object(i.jsxs)("section",{children:[Object(i.jsx)("nav",{children:Object(i.jsx)("h1",{className:"header",children:"Gift Tracker App"})}),Object(i.jsx)("div",{className:"cardHolder",children:this.props.friendsLoaded?Object(i.jsx)(O,{}):Object(i.jsx)("p",{children:"Loading..."})}),Object(i.jsx)("article",{className:"table",children:Object(i.jsxs)("table",{children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"tdNarrow"}),Object(i.jsx)("th",{className:"tdNarrow"}),Object(i.jsx)("th",{children:Object(i.jsx)("h3",{children:"Description"})}),Object(i.jsx)("th",{children:Object(i.jsx)("h3",{children:"Price"})}),Object(i.jsx)("th",{children:Object(i.jsx)("h3",{children:"Bought?"})})]})}),Object(i.jsxs)("tbody",{children:[this.props.gifts.map((function(e){return Object(i.jsx)(E,{gift:e},e.id)})),Object(i.jsx)(v,{})]})]})}),Object(i.jsx)(y,{})]})}}]),n}(a.Component),G=Object(o.b)((function(e){return{gifts:e.gifts,friendsLoaded:e.friendsLoaded}}),(function(e){return{getGifts:function(){e(f())},getFriends:function(){e((function(e){p.get("friends").then((function(t){t.data.data.forEach((function(t){var n;e({type:"ADD_FRIEND",payload:{id:(n={id:t.id,name:t.name,budget:t.budget}).id,name:n.name,budget:n.budget}})}))}))}))}}}))(F),D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,d=t.getTTFB;n(e),i(e),a(e),c(e),d(e)}))},I={gifts:[],friends:[],friendsLoaded:!1},T=n(16),S=n(3),P=function(e,t){switch(t.type){case"ADD_GIFT":return Object(S.a)(Object(S.a)({},e),{},{gifts:[].concat(Object(T.a)(e.gifts),[t.payload])});case"ADD_FRIEND":return Object(S.a)(Object(S.a)({},e),{},{friends:[].concat(Object(T.a)(e.friends),[t.payload]),friendsLoaded:!0});case"REMOVE_GIFT":return Object(S.a)(Object(S.a)({},e),{},{gifts:e.gifts.filter((function(e){return e.id!==t.payload}))});case"EDIT_GIFT":return Object(S.a)(Object(S.a)({},e),{},{gifts:e.gifts.map((function(e){return e.id!==t.payload.id?e:Object(S.a)(Object(S.a)({},e),t.payload)}))});case"EDIT_FRIEND":return Object(S.a)(Object(S.a)({},e),{},{friends:e.friends.map((function(e){return e.id!==t.payload.id?e:Object(S.a)(Object(S.a)({},e),t.payload)}))});default:return e}},w=n(10),A=n(27),L=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||w.c,R=Object(w.d)(P,I,L(Object(w.a)(A.a)));s.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(o.a,{store:R,children:Object(i.jsx)(G,{})})}),document.getElementById("root")),D()}},[[57,1,2]]]);
//# sourceMappingURL=main.f69c6904.chunk.js.map